(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{58:function(e,n,t){"use strict";t.d(n,"e",(function(){return b})),t.d(n,"d",(function(){return l})),t.d(n,"b",(function(){return j})),t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return O}));var r,a,o,c,i,u,s=t(60),d=t(66),b=Object(d.a)(r||(r=Object(s.a)(["\n  {\n    books {\n      id\n      name\n      genre\n      author {\n        name\n        age\n        id\n        books {\n          name\n          id\n        }\n      }\n    }\n  }\n"]))),l=Object(d.a)(a||(a=Object(s.a)(["\n  {\n    authors {\n      id\n      name\n    }\n  }\n"]))),j=Object(d.a)(o||(o=Object(s.a)(["\n  mutation ($name: String!, $genre: String!, $authorId: ID!) {\n    addAnBook(name: $name, genre: $genre, authorId: $authorId) {\n      name\n    }\n  }\n"]))),m=Object(d.a)(c||(c=Object(s.a)(["\n  mutation ($name: String!, $age: Int!) {\n    addAnAuthor(name: $name, age: $age) {\n      name\n      id\n    }\n  }\n"]))),O=Object(d.a)(i||(i=Object(s.a)(["\n  mutation ($id: ID!) {\n    deleteAnBook(id: $id) {\n      id\n    }\n  }\n"])));Object(d.a)(u||(u=Object(s.a)(["\n  query ($id: ID!) {\n    book(id: $id) {\n      name\n      genre\n      author {\n        name\n        age\n        book {\n          name\n        }\n      }\n    }\n  }\n"])))},68:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.r(n);var c=t(62),i=t(67),u=t(70),s=t(6),d=t.n(s),b=t(58),l=t(8);n.default=function(){var e=d.a.useState({bookName:"",genre:"",authorId:"",authorName:0,authorAge:""}),n=Object(c.a)(e,2),t=n[0],r=n[1],a=d.a.useRef(null),j=d.a.useRef(null),m=Object(i.a)(b.d),O=m.loading,h=m.error,f=m.data,g=Object(u.a)(b.b),p=Object(c.a)(g,2),v=p[0],x=(p[1],Object(u.a)(b.a)),N=Object(c.a)(x,2),k=N[0],y=(N[1],Object(s.useState)(!0)),A=Object(c.a)(y,2),$=A[0],I=A[1];if(h)return Object(l.jsx)("p",{children:"Error :("});var S=null===f||void 0===f?void 0:f.authors;return $?Object(l.jsxs)("div",{className:"add-book-zone",children:[Object(l.jsx)("h2",{children:"Add a Book"}),Object(l.jsxs)("form",{ref:a,className:"add-book-form",onSubmit:function(e){e.preventDefault(),v({variables:{name:t.bookName,genre:t.genre,authorId:t.authorId},refetchQueries:[b.e]})},children:[Object(l.jsxs)("div",{className:"field",x:!0,children:[Object(l.jsx)("input",{type:"text",onChange:function(e){return r(o(o({},t),{},{bookName:e.target.value}))},name:"bookName",placeholder:"Book name",value:t.bookName,required:!0}),Object(l.jsx)("span",{className:"focus-border"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("input",{type:"text",onChange:function(e){return r(o(o({},t),{},{genre:e.target.value}))},placeholder:"Genre",name:"genre",value:t.genre,required:!0}),Object(l.jsx)("span",{className:"focus-border"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsxs)("select",{onChange:function(e){r(o(o({},t),{},{authorId:e.target.value}))},name:"authorId",required:!0,children:[Object(l.jsx)("option",{value:"",children:"Select Author"}),O?Object(l.jsx)("option",{disabled:!0,children:"Loading..."}):S.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(l.jsx)("span",{className:"focus-border"})]}),Object(l.jsx)("button",{type:"submit",children:Object(l.jsx)("span",{children:"+"})})]}),Object(l.jsx)("div",{className:"toggle-section",onClick:function(){var e;null===(e=a.current)||void 0===e||e.reset(),r({}),I(!1)},children:"or Add an Author"})]}):Object(l.jsxs)("div",{className:"add-book-zone",children:[Object(l.jsx)("h2",{children:"Add an Author"}),Object(l.jsxs)("form",{ref:j,className:"add-book-form",onSubmit:function(e){e.preventDefault(),k({variables:{name:t.authorName,age:Number(t.authorAge)},refetchQueries:[b.d]})},children:[Object(l.jsxs)("div",{className:"field",x:!0,children:[Object(l.jsx)("input",{type:"text",onChange:function(e){return r(o(o({},t),{},{authorName:e.target.value}))},name:"authorName",value:t.authorName,placeholder:"Author Name",required:!0}),Object(l.jsx)("span",{className:"focus-border"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("input",{type:"number",min:"10",max:"100",name:"age",onChange:function(e){return r(o(o({},t),{},{authorAge:e.target.value}))},placeholder:"Age",value:t.authorAge,required:!0}),Object(l.jsx)("span",{className:"focus-border"})]}),Object(l.jsx)("button",{type:"submit",children:Object(l.jsx)("span",{children:"+"})})]}),Object(l.jsx)("div",{className:"toggle-section",onClick:function(){var e;null===(e=j.current)||void 0===e||e.reset(),r({}),I(!0)},children:"or Add a Book"})]})}}}]);
//# sourceMappingURL=4.c36b5a17.chunk.js.map